# MultiplayerTeams

Мод для игры Factorio, который расширяет возможности совместной игры.
Добавляет разделение игроков на независимые команды, систему отношений между ними и торговлю.

## Предыстория

*Космическая корпорация отправила вас исследовать неизведанную планету. Вам не дали ресурсов, вы не знаете технологий, отношения с другими командами ваша собственная забота, но корпорация заинтересована прогрессом завоевания, поэтому будет прилетать, чтобы проверить прогресс, а так же для выдачи особых заданий*

## [Модули](https://github.com/nyafnir/multiplayer-teams/projects?type=classic)

Ссылки в заголовках модулей ссылаются на вкладку "проекты", где отображается статус по реализации.

### [Команды](https://github.com/nyafnir/multiplayer-teams/projects/1)

- ~~Управление через консольные команды и графический интерфейс~~.
- ~~Функционал: создать, распустить, изменить название, изменить цвет, информация о команде, список игроков команды, список команд, исключить, покинуть, пригласить.~~
- ~~Функционал админа: распустить команду по названию, переместить игрока в другую команду.~~
- ~~Команды не могут пользоваться постройками друг друга.~~
- ~~У команд разные технологии.~~
- ~~Наука в команде по умолчанию заблокирована, но в ней не запрещено находится.~~

### [Отношения](https://github.com/nyafnir/multiplayer-teams/projects/5)

- ~~Управление через консольные команды и графический интерфейс~~.
- ~~Отношения между игроками: друзья, враги или нейтралы. По умолчанию все враги.~~
- ~~Друзья имеют неограниченный доступ к зданиям (сундуки, поезда, электричество) и турели не стреляют по ним.~~

### [Отдельная база](https://github.com/nyafnir/multiplayer-teams/projects/6)

- ~~Управление через консольные команды и графический интерфейс~~.
- ~~После создания команды будет выбор места появления: близко к центру или далеко от него.~~
- ~~Место можно менять в течение 10 минут после каждой генерации, а затем только через админскую команду.~~
- ~~Возле места появления есть ресурсы: железо, медь, нефть, вода, лес, камень.~~
- ~~Кусаки вокруг места появления удаляются имитируя стандартную стартовую локацию.~~

### [Торговля](https://github.com/nyafnir/multiplayer-teams/projects/8)

- ~~Управление через графический интерфейс.~~
- ~~Можно торговать с друг другом за "монеты" (не предмет).~~
- ~~Игрок может выставить на продажу предмет положив его в сундук-магазин.~~
- ~~Игрок может купить из этого сундука путём вытаскивания предмета.~~
- Каждый месяц корпорация поощряет добытые материалы и разработанные вами вещи.

### [Заказы](https://github.com/nyafnir/multiplayer-teams/projects/7)

- ~~Управление через консольные команды и графический интерфейс~~.
- ~~Корпорация может дать заказ на производство.~~

## [Совместимость с модами](./COMPATIBLE.md)

## Примечания

- Мод сделан для собственной игры с друзьями, поэтому дополнения и поддержка не планируется.
- Вы можете сделать перевод для языка которого нет в моде (желательно через гитхаб).
- Если у вас возникла проблема, то вы можете сообщить о ней через [Issue](https://github.com/nyafnir/multiplayer-teams/issues).

### Как настроить VSCode для разработки мода?

- [Видео о том как это работает (на англ.)](https://www.youtube.com/watch?v=oNfMNFxy2X4)

1. Устанавливаем расширение [`sumneko.lua`](vscode:extension/sumneko.lua) (валидация синтаксиса Lua)
2. Устанавливаем расширение [`justarandomgeek.factoriomod-debug`](vscode:extension/justarandomgeek.factoriomod-debug) (дебаг; автодподсказки для `sumneko.lua`, которые определят глобальные прототипы [как в доке](https://lua-api.factorio.com/latest/index-prototype.html))
3. Справа внизу появится окошко про сохранение идентификатора стим, жмем "Yes", а остальные игнорируем (уже закоммичено)
4. Создаем символьную ссылку на мод в папку модов, так как дебагер работает только с тем что там видит

    ```sh
    Start-Process cmd -ArgumentList ("/k cd {0}" -f (Get-Location).path) -Verb RunAs # Откроет командную строку от имени админа в этой же папке
    mklink /d "C:\Users\%USERNAME%\AppData\Roaming\Factorio\mods\MultiplayerTeams" "%cd%\src" # Создаст символьную ссылку из модов на папку проекта 'src'
    ```

5. Теперь в любой момент можно запустить дебаг режим (F5)
6. Если у вас не нашёлся клиент игры, то нужно использовать кнопку снизу "Select Version Factorio" (или как-то так)
